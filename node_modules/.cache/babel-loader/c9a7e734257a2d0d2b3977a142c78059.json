{"ast":null,"code":"var _jsxFileName = \"/Users/helentsai/hungry-alarm/src/components/reservation/reservationCard.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport style from './reservation.module.css';\nimport { Link } from 'react-router-dom';\nimport Dialog from '../../components/layout/Dialog';\nimport ReactStars from \"react-rating-stars-component\";\nexport default class reservationCard extends Component {\n  constructor(props) {\n    super();\n    this.commentChange = this.commentChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      cid: props.reservation.cid,\n      rid: props.reservation.rid,\n      date: props.reservation.date,\n      time: props.reservation.time,\n      seats: props.reservation.seats,\n      notes: props.reservation.notes,\n      rating: props.reservation.rating,\n      comment: props.reservation.comment,\n      res_id: props.reservation.reservation_id,\n      r_pic: \"\",\n      r_name: \"\",\n      isOpen: false\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/restaurants/' + this.state.rid).then(response => {\n      // console.log(response.data)\n      const picture = response.data.r_pic;\n      const name = response.data.r_name;\n      this.setState({\n        r_pic: picture,\n        r_name: name\n      });\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const updateRating = {\n      cid: this.state.cid,\n      rid: this.state.rid,\n      date: this.state.date,\n      time: this.state.time,\n      seats: this.state.seats,\n      notes: this.state.notes,\n      rating: this.state.rating,\n      comment: this.state.comment\n    };\n    axios.put('http://localhost:5000/reservation/update/' + this.state.res_id, updateRating).then(res => {\n      console.log(res);\n    }).catch(error => {\n      console.log('error come from commend' + error);\n    });\n  }\n\n  commentChange(e) {\n    this.setState({\n      comment: e.target.value\n    });\n  }\n\n  render() {\n    const ratingChanged = newRating => {\n      console.log(newRating);\n      this.setState({\n        rating: newRating\n      });\n    };\n\n    const ratingdisplay = React.createElement(ReactStars, {\n      count: 5,\n      value: this.state.rating,\n      size: 24,\n      emptyIcon: React.createElement(\"i\", {\n        className: \"far fa-star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }),\n      halfIcon: React.createElement(\"i\", {\n        className: \"fa fa-star-half-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }),\n      fullIcon: React.createElement(\"i\", {\n        className: \"fa fa-star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }),\n      activeColor: \"#ffd700\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }); // if (this.state.rating == null){\n    //     ratingdisplay = null\n    // }\n\n    return React.createElement(\"div\", {\n      className: \"card\",\n      style: {\n        \"width\": \"100%\",\n        \"margin-bottom\": \"5%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"card-img-top\",\n      src: this.state.r_pic,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, this.state.r_name), ratingdisplay, React.createElement(\"p\", {\n      className: style.reservationtext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"reservation date: \", this.state.date), React.createElement(\"p\", {\n      className: style.reservationtext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"reservation time: \", this.state.time), React.createElement(\"p\", {\n      className: style.reservationtext,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"appointment seat: \", this.state.seats), React.createElement(\"button\", {\n      onClick: () => {\n        this.props.deletereservation(this.state.res_id);\n      },\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Cancel Reservation\"), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      style: {\n        \"marginLeft\": \"12px\"\n      },\n      onClick: e => this.setState({\n        isOpen: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"commends\"), React.createElement(Dialog, {\n      isOpen: this.state.isOpen,\n      onClose: e => this.setState({\n        isOpen: false\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.state.r_name), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(ReactStars, {\n      count: 5,\n      value: this.state.rating,\n      onChange: ratingChanged,\n      size: 24,\n      emptyIcon: React.createElement(\"i\", {\n        className: \"far fa-star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }),\n      halfIcon: React.createElement(\"i\", {\n        className: \"fa fa-star-half-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }),\n      fullIcon: React.createElement(\"i\", {\n        className: \"fa fa-star\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }),\n      activeColor: \"#ffd700\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      rows: \"4\",\n      cols: \"30\",\n      placeholder: \"give your commend here \",\n      value: this.state.comment,\n      onChange: this.commentChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/helentsai/hungry-alarm/src/components/reservation/reservationCard.js"],"names":["React","Component","axios","style","Link","Dialog","ReactStars","reservationCard","constructor","props","commentChange","bind","onSubmit","state","cid","reservation","rid","date","time","seats","notes","rating","comment","res_id","reservation_id","r_pic","r_name","isOpen","componentDidMount","get","then","response","picture","data","name","setState","e","preventDefault","updateRating","put","res","console","log","catch","error","target","value","render","ratingChanged","newRating","ratingdisplay","reservationtext","deletereservation"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport style from './reservation.module.css'\nimport { Link } from 'react-router-dom';\nimport Dialog from '../../components/layout/Dialog'\nimport ReactStars from \"react-rating-stars-component\";\n\n\n\nexport default class reservationCard extends Component {\n    constructor(props) {\n        super();\n        this.commentChange = this.commentChange.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n\n\n        this.state = {\n            cid: props.reservation.cid,\n            rid: props.reservation.rid,\n            date: props.reservation.date,\n            time: props.reservation.time,\n            seats: props.reservation.seats,\n            notes: props.reservation.notes,\n            rating: props.reservation.rating,\n            comment: props.reservation.comment,\n            res_id: props.reservation.reservation_id,\n            r_pic: \"\",\n            r_name: \"\",\n            isOpen: false,\n        }\n\n    }\n\n    componentDidMount() {\n        axios.get('http://localhost:5000/restaurants/' + this.state.rid)\n            .then(response => {\n                // console.log(response.data)\n                const picture = response.data.r_pic\n                const name = response.data.r_name\n                this.setState({ r_pic: picture, r_name: name })\n\n            })\n    }\n\n\n    onSubmit(e) {\n        e.preventDefault();\n\n        const updateRating = {\n            cid: this.state.cid,\n            rid: this.state.rid,\n            date: this.state.date,\n            time: this.state.time,\n            seats: this.state.seats,\n            notes: this.state.notes,\n            rating: this.state.rating,\n            comment: this.state.comment\n        }\n\n        axios.put('http://localhost:5000/reservation/update/' + this.state.res_id, updateRating)\n            .then(res => {\n                console.log(res)\n            })\n            .catch(error => {\n                console.log('error come from commend' + error)\n            })\n    }\n\n    commentChange(e) {\n        this.setState({\n            comment: e.target.value\n        });\n    }\n\n\n    render() {\n\n        const ratingChanged = (newRating) => {\n            console.log(newRating);\n            this.setState({ rating: newRating })\n        };\n\n        const ratingdisplay = (\n\n            <ReactStars\n                count={5} value={this.state.rating} \n                size={24}\n                emptyIcon={<i className=\"far fa-star\"></i>}\n                halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\n                fullIcon={<i className=\"fa fa-star\"></i>}\n                activeColor=\"#ffd700\"\n            />\n\n        )\n\n        // if (this.state.rating == null){\n        //     ratingdisplay = null\n        // }\n\n            return (\n\n                <div className=\"card\" style={{ \"width\": \"100%\", \"margin-bottom\": \"5%\" }} >\n                    <img className=\"card-img-top\" src={this.state.r_pic} alt=\"\" />\n                    <div class=\"\">\n                        <h5>{this.state.r_name}</h5>\n                        {ratingdisplay}\n                        <p className={style.reservationtext}>reservation date: {this.state.date}</p>\n                        <p className={style.reservationtext}>reservation time: {this.state.time}</p>\n                        <p className={style.reservationtext}>appointment seat: {this.state.seats}</p>\n                        <button onClick={() => { this.props.deletereservation(this.state.res_id); }} className=\"btn btn-primary\" >Cancel Reservation</button>\n                        <button className=\"btn btn-primary\" style={{ \"marginLeft\": \"12px\" }} onClick={(e) => this.setState({ isOpen: true })}>commends</button>\n                        <Dialog isOpen={this.state.isOpen} onClose={(e) => this.setState({ isOpen: false })}>\n                            <h5>{this.state.r_name}</h5>\n                            <form onSubmit={this.onSubmit}>\n                                <ReactStars\n                                    count={5} value={this.state.rating} onChange={ratingChanged}\n                                    size={24}\n                                    emptyIcon={<i className=\"far fa-star\"></i>}\n                                    halfIcon={<i className=\"fa fa-star-half-alt\"></i>}\n                                    fullIcon={<i className=\"fa fa-star\"></i>}\n                                    activeColor=\"#ffd700\"\n                                />\n                                <textarea rows=\"4\" cols=\"30\" placeholder=\"give your commend here \" value={this.state.comment} onChange={this.commentChange} />\n                                <div className=\"form-group\">\n                                    <input type=\"submit\" value=\"submit\"\n                                        className=\"btn btn-primary\" />\n                                </div>\n                            </form>\n\n                        </Dialog>\n                    </div>\n\n\n                </div>\n            )\n    }\n}"]},"metadata":{},"sourceType":"module"}